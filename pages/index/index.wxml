<!--pages/index/index.wxml - 首页-->
<view class="page">
  <!-- 顶部蓝色区域 -->
  <view class="header-banner">
    <text class="main-title">羽毛球组队</text>
    <text class="slogan">挥洒汗水,寻找你的最佳拍档</text>
  </view>

  <!-- 最新公告 -->
  <view class="announcement-card" bindtap="onAnnouncementTap">
    <text class="announcement-label">最新公告</text>
    <text class="announcement-title">本周六俱乐部友谊赛</text>
    <text class="announcement-hint">点击查看报名详情及分组</text>
  </view>

  <!-- 选择比赛模式 -->
  <view class="section">
    <view class="section-header">
      <view class="section-bar"></view>
      <text class="section-title">选择比赛模式</text>
    </view>
    <view class="mode-row">
      <view class="mode-card mode-singles" bindtap="onSinglesTap">
        <view class="mode-icon mode-icon-singles">🏸</view>
        <text class="mode-card-title">单打比赛</text>
        <text class="mode-card-desc">1v1 SOLO 对决</text>
        <text class="mode-arrow">></text>
      </view>
      <view class="mode-card mode-doubles" bindtap="onDoublesTap">
        <view class="mode-icon mode-icon-doubles">👥</view>
        <text class="mode-card-title">双打/混双</text>
        <text class="mode-card-desc">2v2 默契配合</text>
        <text class="mode-arrow">></text>
      </view>
    </view>
  </view>

  <!-- 最近战绩 -->
  <view class="section">
    <view class="section-header section-header-row">
      <view class="section-left">
        <view class="section-bar"></view>
        <text class="section-title">最近战绩</text>
      </view>
      <text class="section-link" bindtap="onViewAllRecords">查看全部 ></text>
    </view>
    <view class="record-card">
      <view wx:if="{{recentRecords.length > 0}}" class="record-list">
        <view
          class="record-item"
          wx:for="{{recentRecords}}"
          wx:key="_id"
          data-id="{{item._id}}"
          bindtap="onRecordTap"
        >
          <view class="record-main">
            <text class="record-name">{{item.name}}</text>
            <text class="record-meta">{{item.dateStr}} · {{item.typeText}} - {{item.subModeText}}</text>
          </view>
          <view class="record-stats">
            <text class="stat-wins">胜 {{item.myWins}}</text>
            <text class="stat-losses">负 {{item.myLosses}}</text>
          </view>
        </view>
      </view>
      <text wx:else class="record-empty">本周暂无比赛记录,快去发起挑战吧!</text>
    </view>
  </view>

  <view class="page-bottom"></view>
</view>
