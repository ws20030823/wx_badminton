<!--pages/create/create.wxml - 创建比赛-->
<view class="page">
  <view class="form-wrapper">
    <view class="form-item">
      <text class="label">比赛模式</text>
      <view class="readonly-card">
        <text class="readonly-icon">↻</text>
        <text class="readonly-text">{{typeText}} - {{subModeText}}</text>
        <text class="readonly-hint">不可更改</text>
      </view>
    </view>

    <view class="form-item">
      <text class="label">比赛名称*</text>
      <view class="input-wrap">
        <text class="input-icon">✎</text>
        <input
          class="input"
          placeholder="例如: 周六快乐羽毛球"
          placeholder-class="placeholder"
          value="{{name}}"
          bindinput="onNameInput"
        />
      </view>
    </view>

    <view class="form-item">
      <text class="label">人数限制 (最少~最多)</text>
      <view class="number-row">
        <input
          class="number-input"
          type="number"
          placeholder="4"
          value="{{minPlayers}}"
          bindinput="onMinPlayersInput"
        />
        <text class="number-sep">~</text>
        <input
          class="number-input"
          type="number"
          placeholder="8"
          value="{{maxPlayers}}"
          bindinput="onMaxPlayersInput"
        />
      </view>
    </view>

    <view class="form-item">
      <text class="label">开始时间</text>
      <view class="datetime-row">
        <picker mode="date" value="{{startDate}}" bindchange="onStartDateChange">
          <view class="picker-wrap flex-1">
            <text class="picker-icon">📅</text>
            <text class="picker-text {{startDate ? '' : 'placeholder'}}">{{startDate || '日期'}}</text>
            <text class="picker-arrow">▼</text>
          </view>
        </picker>
        <picker mode="time" value="{{startTimeOnly}}" bindchange="onStartTimeChange">
          <view class="picker-wrap flex-1">
            <text class="picker-icon">🕐</text>
            <text class="picker-text {{startTimeOnly ? '' : 'placeholder'}}">{{startTimeOnly || '时刻'}}</text>
            <text class="picker-arrow">▼</text>
          </view>
        </picker>
      </view>
    </view>

    <view class="form-item">
      <text class="label">结束时间</text>
      <view class="datetime-row">
        <picker mode="date" value="{{endDate}}" bindchange="onEndDateChange">
          <view class="picker-wrap flex-1">
            <text class="picker-icon">📅</text>
            <text class="picker-text {{endDate ? '' : 'placeholder'}}">{{endDate || '日期'}}</text>
            <text class="picker-arrow">▼</text>
          </view>
        </picker>
        <picker mode="time" value="{{endTimeOnly}}" bindchange="onEndTimeChange">
          <view class="picker-wrap flex-1">
            <text class="picker-icon">🕐</text>
            <text class="picker-text {{endTimeOnly ? '' : 'placeholder'}}">{{endTimeOnly || '时刻'}}</text>
            <text class="picker-arrow">▼</text>
          </view>
        </picker>
      </view>
    </view>

    <view class="form-item">
      <text class="label">比赛地点</text>
      <view class="location-row">
        <view class="input-wrap flex-1">
          <text class="input-icon pin">📍</text>
          <input
            class="input"
            placeholder="请输入场馆名称或点击选点 (可选)"
            placeholder-class="placeholder"
            value="{{location}}"
            bindinput="onLocationInput"
          />
        </view>
        <button class="map-pick-btn" bindtap="onChooseLocation">选择地点</button>
      </view>
    </view>

    <view class="form-item">
      <text class="label">场馆场地号</text>
      <view class="input-wrap">
        <text class="input-icon">#</text>
        <input
          class="input"
          placeholder="例如: 1号场"
          placeholder-class="placeholder"
          value="{{courtNumber}}"
          bindinput="onCourtNumberInput"
        />
      </view>
    </view>

    <button class="submit-btn" bindtap="onSubmit">立即创建</button>
  </view>
</view>
