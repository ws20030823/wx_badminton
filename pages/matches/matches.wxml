<!--pages/matches/matches.wxml - æˆ‘çš„å¯¹æˆ˜-->
<view class="page">
  <view class="tabs-wrap">
    <view
      class="tab {{activeTab === 0 ? 'active' : ''}}"
      data-index="0"
      bindtap="onTabChange"
    >æˆ‘å‚ä¸çš„</view>
    <view
      class="tab {{activeTab === 1 ? 'active' : ''}}"
      data-index="1"
      bindtap="onTabChange"
    >æˆ‘åˆ›å»ºçš„</view>
    <view class="tab-underline" style="left: {{activeTab === 0 ? '15%' : '55%'}}"></view>
  </view>
  <text class="tab-hint">é€‰æ‹©åˆ›å»ºçš„å’Œå‚åŠ çš„æ¯”èµ›</text>

  <scroll-view
    scroll-y
    class="list-area"
    enable-back-to-top
    refresher-enabled
    bindrefresherrefresh="onPullDownRefresh"
  >
    <view wx:if="{{activeTab === 0}}" class="list-inner">
      <view
        class="match-card"
        wx:for="{{joinedList}}"
        wx:key="_id"
        data-id="{{item._id}}"
        bindtap="onMatchTap"
      >
        <view class="card-date">
          <text class="date-month">{{item.dateMonth}}</text>
          <text class="date-day">{{item.dateDay}}</text>
        </view>
        <view class="card-content">
          <view class="card-top">
            <text class="match-name">{{item.name}}</text>
            <text class="status-tag status-{{item.status}}">{{item.statusText}}</text>
          </view>
          <view class="card-info">
            <text class="info-item">ğŸ• {{item.timeText}}</text>
            <text class="info-item">ğŸ“ {{item.locationText}}</text>
          </view>
          <text class="mode-tag">{{item.typeText}} - {{item.subModeText}}</text>
          <view class="result-link" wx:if="{{item.status === 'finished'}}" bindtap="onMatchTap" data-id="{{item._id}}">
            æŸ¥çœ‹å¯¹æˆ˜ç»“æœ >
          </view>
        </view>
      </view>
      <view class="empty-tip" wx:if="{{joinedList.length === 0}}">æš‚æ— å‚ä¸çš„æ¯”èµ›</view>
    </view>

    <view wx:if="{{activeTab === 1}}" class="list-inner">
      <view
        class="match-card"
        wx:for="{{createdList}}"
        wx:key="_id"
        data-id="{{item._id}}"
        bindtap="onMatchTap"
      >
        <view class="card-date">
          <text class="date-month">{{item.dateMonth}}</text>
          <text class="date-day">{{item.dateDay}}</text>
        </view>
        <view class="card-content">
          <view class="card-top">
            <text class="match-name">{{item.name}}</text>
            <text class="status-tag status-{{item.status}}">{{item.statusText}}</text>
          </view>
          <view class="card-info">
            <text class="info-item">ğŸ• {{item.timeText}}</text>
            <text class="info-item">ğŸ“ {{item.locationText}}</text>
          </view>
          <text class="mode-tag">{{item.typeText}} - {{item.subModeText}}</text>
          <view class="result-link" wx:if="{{item.status === 'finished'}}" bindtap="onMatchTap" data-id="{{item._id}}">
            æŸ¥çœ‹å¯¹æˆ˜ç»“æœ >
          </view>
        </view>
      </view>
      <view class="empty-tip" wx:if="{{createdList.length === 0}}">æš‚æ— åˆ›å»ºçš„æ¯”èµ›</view>
    </view>
  </scroll-view>
</view>
