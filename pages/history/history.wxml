<!--pages/history/history.wxml - å†å²æˆ˜ç»©-->
<view class="page">
  <scroll-view
    scroll-y
    class="list-area"
    enable-back-to-top
    refresher-enabled
    bindrefresherrefresh="onPullDownRefresh"
  >
    <view class="list-inner">
      <view
        class="history-card"
        wx:for="{{historyList}}"
        wx:key="_id"
        data-id="{{item._id}}"
        bindtap="onMatchTap"
      >
        <view class="card-header">
          <text class="match-name">{{item.name}}</text>
          <view class="mode-tag">{{item.typeText}} - {{item.subModeText}}</view>
        </view>
        <view class="card-info">
          <text class="info-item">ğŸ• {{item.dateStr}}</text>
          <text class="info-item" wx:if="{{item.location}}">ğŸ“ {{item.location}}</text>
        </view>
        <view class="card-stats">
          <view class="stat-badge wins">èƒœ {{item.myWins}}</view>
          <view class="stat-badge losses">è´Ÿ {{item.myLosses}}</view>
          <view class="stat-badge winrate">èƒœç‡ {{item.winRate}}%</view>
        </view>
        <view class="card-link">æŸ¥çœ‹è¯¦æƒ… ></view>
      </view>
      <view class="empty-tip" wx:if="{{historyList.length === 0}}">æš‚æ— å†å²æˆ˜ç»©</view>
    </view>
  </scroll-view>
</view>
